
    <div class="text-black ml-3 mt-3" routerLink="../" role="button" style="position: relative;">
        <h5><span><i class="bi bi-arrow-left"></i></span>VOLVER</h5>
      </div>
      <div class="mb-5">
          <h2 class="text-center text-staatliches title ">Jaula - {{jaula?.codigo}}</h2>
      </div>
      <ul ngbNav #nav="ngbNav" class="nav-tabs nav-fill">
          <li [ngbNavItem]="1">
            <a ngbNavLink>Información</a>
            <ng-template ngbNavContent>
                <div class="mx-4">
                    <div class="d-flex bd-highlight mb-3 card-header">
                        <div class="p-2 w-75 bd-highlight">
                            <h4 class="text-secondary text-staatliches mb-0">Proyecto Asociado</h4>
                            <p class='m-1' *ngIf="miProyecto?.nombre.length > 0 ">{{miProyecto?.nombre}} - {{miProyecto?.codigoProyecto}}</p>
                            <p class='m-1' *ngIf="miProyecto?.nombre.length == undefined ">Sin Asignar</p>
                        </div>
                        <div class="ms-auto p-2 bd-highlight">
                            <button class="btn btn-outline-secondary" style="cursor: pointer" (click)=open(asociarP) ><i class="bi bi-link text-secondary"></i> Asociar Proyecto</button>
                        </div>
                      </div>                 
                    <div class="rounded pb-5 d-flex align-items-center justify-content-around">
                      <div class="mx-5">
                        <h4 class="text-secondary text-staatliches mb-0">Ubicación</h4>
                        <p class="mb-0">{{espacioFisico?.nombre}}</p>  
                      </div>
                      <div class="barra"></div>
                      <div class="mx-5">
                        <h4 class="text-secondary text-staatliches mb-0">Estante</h4>
                        <p class="mb-0">{{jaula?.estante}}</p>
                      </div>
                      <div class="barra"></div>
                      <div class="mx-5">
                        <h4 class="text-secondary text-staatliches mb-0">Rack</h4>
                        <p class="mb-0">{{jaula?.rack}}</p>
                      </div>
                      <div class="barra"></div>
                      <div class="mx-5">
                        <h4 class="text-secondary text-staatliches mb-0">Tipo</h4>
                        <p class="mb-0">{{jaula?.tipo}}</p>  
                      </div>
                    </div>
                  </div>
              <div class="d-flex bd-highlight">
                <div class="p-2 flex-grow-1 bd-highlight"><button type="button" class="btn btn-outline-danger" (click)=eliminarJaula()>Eliminar Jaula</button></div>
                <div class="p-2 bd-highlight"><button class="btn btn-outline-primary" style="cursor: pointer" routerLink='editar-jaula'><i class="bi bi-pencil text-primary"></i> Editar</button></div>
              </div>
              <div class="alert alert-{{estado}} mt-3" role="alert" *ngIf='alert'>
                {{mensajeAlert}}
              </div>
            </ng-template>
          </li>
          <li [ngbNavItem]="2">
            <a ngbNavLink>Animales</a>
            <ng-template ngbNavContent>

                <div class="table-responsive m-4">
                    <table class="table  table-hover">
                        <thead>
                            <tr class="text-secondary text-staatliches card-header">
                              <th scope="col">Código</th>
                              <th scope="col">Especie</th>
                              <th scope="col">Cepa</th>
                              <th scope="col">Sexo</th>
                              <th><a class="link-primary" style="cursor: pointer" routerLink='alta-animal'><i class="bi bi-plus-square"> Agregar</i></a></th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor='let animal of animales'>
                                <th scope="">{{animal.id_fuenteExperimental}}</th>
                                <th scope="col">{{animal.especie}}</th>
                                <th scope="col">{{animal.cepa}}</th>
                                <th scope="col">{{animal.sexo}}</th>
                                <th><div class="mr-4">
                                    <a class="text-danger" role="button" (click)=eliminar(animal.id_fuenteExperimental)>
                                      <i class="bi bi-trash"></i>
                                    </a>
                                  </div></th>
                            </tr> 
                          </tbody>
                    </table>
                    <div class="alert alert-danger text-center" role="alert" *ngIf='animales.length == 0'>
                        No hay animales en la Jaula
                      </div> 
                      <div class="alert alert-{{estado}} mt-3" role="alert" *ngIf='alert'>
                        {{mensajeAlert}}
                      </div>
                  </div>         
            </ng-template>
          </li>
          <li [ngbNavItem]="3">
            <a ngbNavLink>Blogs</a>
            <ng-template ngbNavContent>
                <div class="row m-2">
                  <div class="col-3 d-flex justify-content-center">
                    <button class="btn btn-outline-success m-2" (click)="open(blog)">Nueva Entrada</button>
                  </div>
                  <div class="barra m-2" *ngIf='!experimento?.finalizado'></div>
                    <div class="col-6 d-flex justify-content-around align-items-center">
                      <div class="form-group m-2">
                        <div class="d-flex">
                          <input class="form-control" placeholder="Fecha Desde" id="fecDesde" 
                                 name="dp" [(ngModel)]="fecDesde" ngbDatepicker #d="ngbDatepicker">
                            <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button"><i class="bi bi-calendar"></i></button>
                        </div>
                      </div>
                      <div class="form-group m-2">
                        <div class="d-flex">
                          <input class="form-control" placeholder="Fecha Hasta" id="fecHasta" 
                                 name="dp2" [(ngModel)]="fecHasta" ngbDatepicker #d2="ngbDatepicker">
                            <button class="btn btn-outline-secondary calendar" (click)="d2.toggle()" type="button"><i class="bi bi-calendar"></i></button>
                        </div>
                      </div>
                      <button class="btn btn-outline-secondary m-2"  (click)=Buscar() >Filtrar</button>
                    </div>
                </div>
                <div class="row m-2" >
                  <ng-container *ngFor='let a of blogs;let i = index'  >
                      <ng-container *ngIf = 'i%2==0'>
                        <div class=" row card-blog shadow rounded m-2">
                          <div class="col-1 d-flex flex-column align-items-center">
                            <i class="bi bi-journals m-2"></i>
                            <h6 class="card-title text-center">{{a.fecha | date: 'dd/MM/yy'}}</h6>
                          </div>
                          <div class="col-11" >
                            <h5 class="card-title card-header">Jaula {{a.codigoJaula}} - Blog N° {{a.id_blog}}</h5>
                            <p class="mb-1"><i>  usuario :{{a.id_usuario}}</i></p>
                            <p>{{a.detalle}}</p>
                          </div>
                        </div>
                      </ng-container>
                      <ng-container *ngIf = 'i%2!=0'>
                        <div class="row card-blog shadow rounded m-2">
                          <div class="col-11" >
                            <h5 class="card-title card-header">Jaula {{a.codigoJaula}} - Blog N° {{a.id_blog}}</h5>
                            <p class="mb-1"><i>  usuario :{{a.id_usuario}}</i></p>
                            <p>{{a.detalle}}</p>
                          </div>
                          <div class="col-1 d-flex flex-column align-items-center">
                            <i class="bi bi-journals m-2"></i>
                            <h6 class="card-title text-center">{{a.fecha | date: 'dd/MM/yy'}}</h6>
                          </div>
                        </div>
                      </ng-container>
                  </ng-container>
              </div>
              <div class="alert alert-danger m-2" role="alert" *ngIf='blogs?.length === 0'>
                No hay blogs existentes
              </div>
            </ng-template>
          </li>
        </ul>
      <div [ngbNavOutlet]="nav" class="mt-2"></div>

      <ng-template #asociarP let-modal >
        <div class="modal-body mx-5" >
            <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title">Asociar Proyecto</h4>
                <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body mx-5">
                <div class="row">
                    <div class="col-8 form-group" >
                    <form [formGroup]="formProyecto">
                        <div class="m-3">
                            <label for="tipo" class="form-label">Seleccione Proyecto</label>
                          <select class="form-control" aria-label=".form-select-lg example" formControlName='id_proyecto'>
                            <option value="0">Sin Asignar</option>
                            <option *ngFor='let proyecto of proyectos' value="{{proyecto.id_proyecto}}">{{proyecto.nombre}}</option>
                          </select>
                        </div>
                        <div class="d-flex bd-highlight alert alert-{{estadoM}} mt-3" role="alertM" *ngIf='alertM'>
                          <div class="p-2 flex-grow-1 bd-highlight">{{mensajeAlertM}}</div>
                          <div class="p-2 bd-highlight">
                          </div>
                        </div>
                    </form>
                    </div>
                    <div class="col d-flex justify-content-center align-items-center">
                      <i class="bi bi-file-earmark-text" style="font-size: 8em;"></i>
                    </div>
                </div>
              </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-outline-primary btn-lg mr-3"  (click)=asociar()>Asociar</button>
        </div>
      </ng-template>

      <ng-template #blog let-modal>
        <div class="modal-header">
          <h4 class="modal-title" id="modal-basic-title">Crear Publicacion</h4>
          <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body mx-5">
          <div class="row">
            <div class="col-8 form-group">
              <label for="tipo" class="form-label">Escriba una publicacion</label>
              <textarea class="form-control" id='descripcion' aria-label="With textarea" rows="6" [(ngModel)]='detalleBlog'></textarea>
            </div>
            <div class="col d-flex justify-content-center align-items-center">
              <i class="bi bi-file-earmark-text" style="font-size: 8em;"></i>
            </div>
          </div>
          <div class="d-flex bd-highlight alert alert-{{estadoM}} mt-3" role="alertM" *ngIf='alertM'>
            <div class="p-2 flex-grow-1 bd-highlight">{{mensajeAlertM}}</div>
            <div class="p-2 bd-highlight">
            </div>
          </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-outline-primary btn-lg mr-3" (click)='crearBlog()'>Crear</button>
        </div>
      </ng-template>