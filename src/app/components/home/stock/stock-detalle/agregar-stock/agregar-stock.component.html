<div *ngIf='!cargando'>
<div class="text-black ml-3 mt-3" *ngIf='editar === false' routerLink="../" role="button" style="position: relative;">
  <h5><span><i class="bi bi-arrow-left"></i></span>VOLVER</h5>
</div>
<div class="text-black ml-3 mt-3"*ngIf='editar === true' routerLink="../../../../" role="button" style="position: relative;">
  <h5><span><i class="bi bi-arrow-left"></i></span>VOLVER</h5>
</div>
<div class="mx-4">
  <div class="text-center my-4">
      <h2 *ngIf='editar === true'> Editar Stock</h2>
      <h2 *ngIf='editar === false'> Agregar Stock</h2>
  </div>
</div>
<div class="">
  <form [formGroup]="formStock">
        <div class="">
            <label  for="producto" class="form-label">Producto</label>
            <select *ngIf='editar === false' class="form-select form-control" aria-label=".form-select-lg example" id="producto" formControlName="producto" [attr.disabled]='disabledForm ? true : null'>
              <option value="0" disabled>Seleccione el nombre del producto</option>
              <option *ngFor='let producto of productos' value="{{producto?.id_producto}}">{{producto?.nombre}} - Unidad de agrupación: {{producto?.unidadAgrupacion}}</option>
            </select>
            <select *ngIf='editar === true' class="form-select form-control" aria-label=".form-select-lg example" id="producto" formControlName="producto" disabled>
              <option value="0" disabled>Seleccione el nombre del producto</option>
              <option *ngFor='let producto of productos' value="{{producto?.id_producto}}">{{producto?.nombre}} - Unidad de agrupación: {{producto?.unidadAgrupacion}}</option>
            </select>
        </div> 
        <div class="">
              <label for="lote" class="form-label">Lote</label>
              <input  *ngIf='editar === true'class="form-control" type="text" placeholder="{{prodEspecifico?.lote}}" aria-label="lote" disabled>
              <input *ngIf='editar === false' type="text" class="form-control" id="lote" formControlName="lote" placeholder="Ingrese el lote del producto" [attr.disabled]='disabledForm ? true : null'>
        </div> 
        <div class="">
              <label for="unidad" class="form-label">Unidades</label>
              <input  *ngIf='editar === true'class="form-control" type="text" placeholder="{{prodEspecifico?.unidad}}" aria-label="unidad" disabled>
              <input *ngIf='editar === false' type="number" class="form-control" id="unidad" formControlName="unidad" placeholder="Ingrese las unidades" [attr.disabled]='disabledForm ? true : null'>
        </div> 
        <div class="">
            <label  for="codigoContenedor" class="form-label">Contenedor</label>
            <select class="form-select form-control" aria-label=".form-select-lg example" id="contenedor" formControlName="contenedor" [attr.disabled]='disabledForm ? true : null'>
              <!-- <option *ngFor='let contenedor of contenedores' value="{{contenedor?.id_contenedor}}">{{contenedor?.nombre}}</option> -->
              <option value="0" disabled>Seleccione el contenedor</option>
              <option *ngFor='let contenedor of contenedores' value="{{contenedor?.id_contenedor}}">{{contenedor?.nombre}}</option>
              <option *ngIf='contenedores?.length === 0'>No hay contenedores asociados a este espacio fisico</option>
            </select>
        </div>
        <div class="">
                <label for="detalleUbicacion" class="form-label">Detalle Ubicación</label>
                <input type="text" class="form-control" id="detalleUbicacion" formControlName="detalleUbicacion" placeholder="Ingrese el detalle de ubicacion" [attr.disabled]='disabledForm ? true : null'>
        </div>
        <div class="">
          <label for="fechaVencimiento" class="form-label">Fecha Vencimiento</label>
          <input  *ngIf='editar === true'class="form-control" type="text" placeholder="{{prodEspecifico?.fechaVencimiento | date: 'dd/MM/yy'}}" aria-label="fechaVencimiento" disabled>
          <input  *ngIf='editar === false' type="date" class="form-control" id="fechaVencimiento" formControlName="fechaVencimiento" [attr.disabled]='disabledForm ? true : null'>
        </div> 
        <div *ngIf='editar === false' class="seguimiento">
          <input class="form-check-input mr-4" type="checkbox" value="" id="seguimiento" name='seguimiento' [attr.disabled]='disabledForm ? true : null'>
          <label for="">Quiere realizar seguimiento del vencimiento del producto?</label>
        </div>
</form>
<div class="text-center">
  <div class="">
        <button class="btn btn-primary btn-lg" type="submit" [disabled]="!formStock.valid" *ngIf='!disabledForm' (click)= agregarStock()>Guardar</button>
        <button class="btn btn-primary btn-lg" type="button" disabled *ngIf='disabledForm'>
          <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          Cargando...
      </button>
    </div>
</div>
</div>
</div>
<div class="d-flex justify-content-center align-items-center h-100" *ngIf='cargando'>
  <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
  </div>
</div>

<app-toast></app-toast>